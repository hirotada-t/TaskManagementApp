(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{1070:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("q-page",[e("div",{staticClass:"q-py-md task-container"},[e("div",{staticClass:"viewport"},[e("div",{staticClass:"row no-wrap q-gutter-none content"},[t._l(t.getTaskList,(function(t){return e("div",{key:t.sectionPosNum},[e("TaskColumn",{attrs:{section:t}})],1)})),e("div",{staticClass:"q-pa-sm w-300px"},[e("q-card",{staticClass:"my-card bg-blue-grey-1"},[e("q-btn",{staticClass:"full-width",attrs:{flat:"",label:"＋ add sectiion"},on:{click:t.addSection}})],1)],1)],2)]),e("q-btn",{staticClass:"full-width bg-dark text-white q-my-xl",attrs:{flat:"",label:"save"},on:{click:t.saveData}})],1)])},c=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-sm w-300px"},[e("q-card",{staticClass:"my-card bg-blue-grey-1"},[e("q-card-section",[e("q-input",{staticClass:"text-h6",attrs:{borderless:"",label:"sectionName"},model:{value:t.getSection.sectionName,callback:function(e){t.$set(t.getSection,"sectionName",e)},expression:"getSection.sectionName"}})],1),e("q-card-section",{staticClass:"h-full q-py-none"},t._l(t.getSection.cardList,(function(t){return e("div",{key:t.cardPosNum},[e("TaskItem",{attrs:{card:t}})],1)})),0),e("q-btn",{staticClass:"full-width q-py-sm bg-dark text-white",attrs:{flat:"",label:"＋ add card"},on:{click:t.addCard}})],1)],1)},o=[],i=function(){var t=this,e=t._self._c;return e("q-card",{staticClass:"my-card q-mb-md"},[e("q-card-section",{staticClass:"q-py-none q-px-sm"},[e("q-input",{attrs:{borderless:"",label:"cardName"},model:{value:t.getCards.cardName,callback:function(e){t.$set(t.getCards,"cardName",e)},expression:"getCards.cardName"}})],1)],1)},r=[],d={name:"TaskItem",props:{card:Object},data(){return{getCards:this.card}},computed:{}},l=d,u=(a("9344"),a("2877")),m=a("f09f"),p=a("a370"),f=a("27f9"),b=a("eebe"),h=a.n(b),g=Object(u["a"])(l,i,r,!1,null,"0c29642a",null),w=g.exports;h()(g,"components",{QCard:m["a"],QCardSection:p["a"],QInput:f["a"]});var v={name:"TaskColumn",props:{section:{type:Object}},components:{TaskItem:w},data(){return{getSection:this.section}},methods:{addCard(){const t=new Date;this.getSection.cardList.push({cardName:"",cardPosNum:this.getSection.cardList.length+1,cardContent:"content",createDate:t.toLocaleString(),deadLine:"",checkList:{},cardTags:[],archives:!1,cardComment:"comment",cardStar:!1})}},computed:{}},k=v,C=(a("d455"),a("9c40")),S=Object(u["a"])(k,n,o,!1,null,"2bf50e04",null),q=S.exports;h()(S,"components",{QCard:m["a"],QCardSection:p["a"],QInput:f["a"],QBtn:C["a"]});var y=a("7f74"),L={name:"PageIndex",props:{taskList:{type:Array}},components:{TaskColumn:q},data(){return{getTaskList:this.taskList?this.taskList:[],scrollBooster:null}},methods:{addSection(){this.getTaskList.push({sectionName:"",sectionPosNum:this.getTaskList.length+1,cardList:[]}),this.updateScrollBooster()},setScrollBooster(t,e){return new y["a"]({viewport:t,content:e,direction:"horizontal",scrollMode:"native"})},updateScrollBooster(){this.$nextTick((()=>{this.scrollBooster.updateMetrics()}))},async saveData(){const t=new Date,e={suggestedName:t.toLocaleString(),types:[{description:"JSON file",accept:{"application/json":[".json"]}}]},a=await window.showSaveFilePicker(e),s=await a.createWritable();await s.write(JSON.stringify(this.getTaskList)),await s.close()},confirmSave(t){t.returnValue=""}},created(){window.addEventListener("beforeunload",this.confirmSave)},destroyed(){window.removeEventListener("beforeunload",this.confirmSave)},mounted(){const t=document.querySelector(".viewport"),e=document.querySelector(".content");this.scrollBooster=this.setScrollBooster(t,e);document.querySelector("body");t.addEventListener("click",(t=>{t.target!==document.activeElement&&document.activeElement.blur()}))},beforeRouteLeave(t,e,a){const s=window.confirm("保存していないデータは失われます。よろしいですか？");s?a():a(!1)}},N=L,x=(a("ec6e"),a("9989")),T=Object(u["a"])(N,s,c,!1,null,"581a9b76",null);e["default"]=T.exports;h()(T,"components",{QPage:x["a"],QCard:m["a"],QBtn:C["a"]})},9344:function(t,e,a){"use strict";a("bfc8")},bfc8:function(t,e,a){},d455:function(t,e,a){"use strict";a("e6b0")},e6b0:function(t,e,a){},ec6e:function(t,e,a){"use strict";a("fcc7")},fcc7:function(t,e,a){}}]);